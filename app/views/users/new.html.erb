<% provide(:title, "HTube | Sign up") %>

<% content_for :main do %>
	<%= form_for @user, html:{'data-parsley-validate' => ''} do |f| %>
    <h1>Create Account</h1>

    <% if @user.errors.any? %>
      <div class="text-left">
        <p>
          Your form have <%= pluralize(@user.errors.count, 'error') %>
        </p>
        <ul>
          <% @user.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-group">
      <%= f.text_field :username, class: 'form-control', placeholder: 'Username', required: 'required' %>
    </div>
    <div class="form-group">
      <%= f.email_field :email, class: 'form-control', placeholder: 'Email', required: 'required' %>
    </div>
    <div class="form-group">
      <%= f.password_field :password, class: 'form-control', placeholder: 'Password', required: 'required' %>
    </div>
    <div class="form-group">
      <%= f.password_field :password_confirmation, class: 'form-control', placeholder: 'Password', 'data-parsley-equalto' => "#user_password", required: 'required' %>
    </div>
    <div>
      <button class="btn btn-success submit">Sign up</button>
    </div>
  <% end %>

    <div class="clearfix"></div>

    <div class="separator">
      <p class="change_link">Already a member ?
        <a href="/sign-in" class="text-primary"> <u>Sign in</u> </a>
      </p>
  <% end %>

<% extends_layout "back_end/layouts/login_layout" %>